(()=>{var e={};e.id=348,e.ids=[348],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},64936:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(53183),s(74614),s(35866);var a=s(23191),i=s(88716),l=s(37922),r=s.n(l),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["studio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53183)),"C:\\Users\\Owner\\New folder\\333333\\src\\app\\studio\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,74614)),"C:\\Users\\Owner\\New folder\\333333\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Owner\\New folder\\333333\\src\\app\\studio\\page.tsx"],x="/studio/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/studio/page",pathname:"/studio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},89995:(e,t,s)=>{Promise.resolve().then(s.bind(s,43139))},76464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},51896:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},39183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},54014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},70715:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},40617:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},94893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},92717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},88378:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},76993:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},43139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eL});var a=s(10326),i=s(17577),l=s(30058),r=s(76557);let n=(0,r.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var c=s(39183);let o=(0,r.Z)("MonitorPlay",[["path",{d:"m10 7 5 3-5 3Z",key:"29ljg6"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]),d=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),x=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=s(58775),m=s(49758),u=s(40617),p=s(74975),g=s(88378);let y=(0,r.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),b=(0,r.Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var j=s(24061),f=s(90434),v=s(51223),N=s(96040),w=s(88129);let k=(0,r.Z)("PictureInPicture2",[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]]),z=(0,r.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),S=(0,r.Z)("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);var C=s(1572),Z=s(51896);let M=(0,r.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var A=s(54014);let T=(0,r.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),L=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),E=(0,r.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),I=(0,r.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var P=s(9015);let q=(0,r.Z)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),_=(0,r.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D=[{id:"single",label:"Single",icon:a.jsx(o,{size:16})},{id:"side-by-side",label:"Side by Side",icon:a.jsx(b,{size:16})},{id:"pip",label:"Picture in Picture",icon:a.jsx(k,{size:16})},{id:"grid",label:"Grid",icon:a.jsx(z,{size:16})},{id:"custom",label:"Custom",icon:a.jsx(S,{size:16})}],V=[{type:"avatar",label:"AI Avatar",icon:a.jsx(C.Z,{size:16})},{type:"camera",label:"Camera",icon:a.jsx(Z.Z,{size:16})},{type:"screen",label:"Screen Share",icon:a.jsx(o,{size:16})},{type:"image",label:"Image",icon:a.jsx(M,{size:16})},{type:"video",label:"Video",icon:a.jsx(m.Z,{size:16})},{type:"browser",label:"Browser",icon:a.jsx(A.Z,{size:16})},{type:"text",label:"Text",icon:a.jsx(T,{size:16})}];function R({className:e}){let{activeScene:t,scenes:s,setActiveScene:r,addScene:n,removeScene:c}=(0,N.D)(),[o,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),u=(0,i.useRef)(null),p=e=>{t&&r({...t,layout:e})},g=e=>{if(!t)return;let s={id:`source-${Date.now()}`,type:e,name:`${e.charAt(0).toUpperCase()+e.slice(1)} Source`,position:{x:50,y:50},size:{width:400,height:300},zIndex:t.sources.length,visible:!0,locked:!1,settings:{}};r({...t,sources:[...t.sources,s]}),d(!1)},b=e=>{t&&r({...t,sources:t.sources.map(t=>t.id===e?{...t,visible:!t.visible}:t)})},j=e=>{t&&r({...t,sources:t.sources.map(t=>t.id===e?{...t,locked:!t.locked}:t)})},f=e=>{t&&r({...t,sources:t.sources.filter(t=>t.id!==e)})},k=e=>{let t=V.find(t=>t.type===e);return t?.icon||a.jsx(y,{size:16})};return(0,a.jsxs)("div",{className:(0,v.cn)("glass rounded-2xl p-4",e),children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(y,{size:18,className:"text-accent-gold"}),"Scene Layout"]})}),t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Layout Type"}),a.jsx("div",{className:"grid grid-cols-5 gap-1",children:D.map(e=>(0,a.jsxs)("button",{onClick:()=>p(e.id),className:(0,v.cn)("p-2 rounded-lg flex flex-col items-center gap-1 transition-colors",t.layout===e.id?"bg-accent-gold/20 text-accent-gold border border-accent-gold/50":"bg-white/5 hover:bg-white/10 text-gray-400"),title:e.label,children:[e.icon,a.jsx("span",{className:"text-[10px]",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{ref:u,className:"relative aspect-video bg-surface-500 rounded-xl overflow-hidden mb-4 border border-white/10",children:[t.sources.map(e=>a.jsx(l.E.div,{className:(0,v.cn)("absolute rounded-lg border-2 flex items-center justify-center transition-all cursor-move",e.visible?"opacity-100":"opacity-30",e.locked?"border-gray-500":"border-accent-gold",h===e.id&&"ring-2 ring-accent-burgundy"),style:{left:`${e.position.x}%`,top:`${e.position.y}%`,width:"30%",height:"40%",transform:"translate(-50%, -50%)",zIndex:e.zIndex},onClick:()=>m(e.id),children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 mx-auto bg-white/10 rounded-lg flex items-center justify-center mb-1",children:k(e.type)}),a.jsx("span",{className:"text-[10px] text-gray-400",children:e.name})]})},e.id)),0===t.sources.length&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(y,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No sources added"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Sources"}),a.jsx("button",{onClick:()=>d(!o),className:"p-1 rounded-md bg-accent-gold/20 text-accent-gold hover:bg-accent-gold/30 transition-colors",title:"Add Source","aria-label":"Add Source",children:a.jsx(L,{size:14})})]}),a.jsx(w.M,{children:o&&a.jsx(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-4 gap-1 p-2 bg-white/5 rounded-lg overflow-hidden",children:V.map(e=>(0,a.jsxs)("button",{onClick:()=>g(e.type),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 flex flex-col items-center gap-1 transition-colors",children:[e.icon,a.jsx("span",{className:"text-[10px] text-gray-400",children:e.label})]},e.type))})}),a.jsx("div",{className:"space-y-1 max-h-[150px] overflow-y-auto",children:t.sources.map((e,t)=>(0,a.jsxs)("div",{className:(0,v.cn)("flex items-center gap-2 p-2 rounded-lg transition-colors",h===e.id?"bg-accent-burgundy/20 border border-accent-burgundy/50":"bg-white/5 hover:bg-white/10"),onClick:()=>m(e.id),children:[a.jsx(E,{size:14,className:"text-gray-500 cursor-grab"}),a.jsx("div",{className:"w-6 h-6 rounded bg-white/10 flex items-center justify-center",children:k(e.type)}),a.jsx("span",{className:"flex-1 text-sm truncate",children:e.name}),a.jsx("button",{onClick:t=>{t.stopPropagation(),b(e.id)},className:(0,v.cn)("p-1 rounded",e.visible?"text-gray-400":"text-red-400"),title:e.visible?"Hide":"Show",children:e.visible?a.jsx(x,{size:12}):a.jsx(I,{size:12})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),j(e.id)},className:(0,v.cn)("p-1 rounded",e.locked?"text-yellow-400":"text-gray-400"),title:e.locked?"Unlock":"Lock",children:e.locked?a.jsx(P.Z,{size:12}):a.jsx(q,{size:12})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),f(e.id)},className:"p-1 rounded text-red-400 hover:bg-red-400/20",title:"Remove",children:a.jsx(_,{size:12})})]},e.id))})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-4",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Scene Transition"}),a.jsx("div",{className:"grid grid-cols-4 gap-1",children:["cut","fade","slide","zoom"].map(e=>a.jsx("button",{onClick:()=>{t&&r({...t,transitionType:e})},className:(0,v.cn)("p-2 rounded-lg text-xs capitalize transition-colors",t.transitionType===e?"bg-accent-gold/20 text-accent-gold border border-accent-gold/50":"bg-white/5 hover:bg-white/10 text-gray-400"),children:e},e))})]})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(y,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No scene selected"}),a.jsx("p",{className:"text-xs",children:"Select a scene to edit its layout"})]})]})}function F({className:e}){let{scenes:t,activeScene:s,previewScene:r,setActiveScene:n,setPreviewScene:c,addScene:o}=(0,N.D)(),[d,x]=(0,i.useState)(!1),[h,m]=(0,i.useState)(""),u=()=>{h.trim()&&(o({id:`scene-${Date.now()}`,name:h,sources:[],layout:"single",transitionType:"fade",transitionDuration:300}),m(""),x(!1))};return(0,a.jsxs)("div",{className:(0,v.cn)("glass rounded-2xl p-4",e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Scenes"}),a.jsx("button",{onClick:()=>x(!d),className:"p-1 rounded-md bg-accent-gold/20 text-accent-gold hover:bg-accent-gold/30 transition-colors",title:"Add Scene","aria-label":"Add Scene",children:a.jsx(L,{size:14})})]}),a.jsx(w.M,{children:d&&a.jsx(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-3 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Scene name",className:"input-field flex-1 text-sm",onKeyDown:e=>"Enter"===e.key&&u()}),a.jsx("button",{onClick:u,disabled:!h.trim(),className:"px-3 py-2 rounded-lg bg-accent-gold text-white text-sm disabled:opacity-50",children:"Add"})]})})}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>(0,a.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(e),onDoubleClick:()=>c(e),className:(0,v.cn)("p-3 rounded-xl text-left transition-all",s?.id===e.id?"bg-accent-gold/20 border border-accent-gold/50 shadow-neon-gold":"bg-white/5 hover:bg-white/10 border border-transparent"),children:[a.jsx("div",{className:"aspect-video bg-surface-500 rounded-lg mb-2 flex items-center justify-center",children:a.jsx(y,{size:20,className:"text-gray-500"})}),a.jsx("span",{className:"text-xs font-medium truncate block",children:e.name}),(0,a.jsxs)("span",{className:"text-[10px] text-gray-500",children:[e.sources.length," sources"]})]},e.id))})]})}let U=(0,r.Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),H=(0,r.Z)("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]),B=(0,r.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);var G=s(94893);let O=(0,r.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),$=(0,r.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),W=(0,r.Z)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),X=(0,r.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),J=(0,r.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Q=(0,r.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Y=(0,r.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);function K({streamId:e,className:t}){let{chatMessages:s,chatPaused:r,toggleChatPause:n,addChatMessage:c,clearChat:o}=(0,N.D)(),[d,x]=(0,i.useState)("all"),[h,m]=(0,i.useState)(""),[p,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)(!1),[f,k]=(0,i.useState)(!0),z=(0,i.useRef)(null),S=e=>{switch(e.toLowerCase()){case"youtube":return a.jsx(U,{size:12,className:"text-red-500"});case"twitch":return a.jsx(H,{size:12,className:"text-purple-500"});case"facebook":return a.jsx(B,{size:12,className:"text-blue-500"});default:return a.jsx(u.Z,{size:12,className:"text-gray-400"})}},Z=s.filter(e=>!!(("all"===d||e.platform.toLowerCase()===d)&&(!h||e.message.toLowerCase().includes(h.toLowerCase())||e.username.toLowerCase().includes(h.toLowerCase())))),M=e=>{console.log("Highlight message:",e)},A=e=>{console.log("Ban user:",e)},T=async e=>{try{let t=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/ai/chat-response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e.message,streamTopic:"general",previousResponses:[]})}),s=await t.json();s.response&&c({id:`ai-${Date.now()}`,platform:"ai",username:"AI Assistant",message:s.response,timestamp:new Date,highlighted:!0,badges:["ai"]})}catch(e){console.error("Failed to generate AI response:",e)}};return(0,a.jsxs)("div",{className:(0,v.cn)("glass rounded-2xl flex flex-col h-full",t),children:[(0,a.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(u.Z,{size:18,className:"text-accent-gold"}),"Live Chat",a.jsx("span",{className:"text-xs bg-accent-gold/20 text-accent-gold px-2 py-0.5 rounded-full",children:s.length})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:n,className:(0,v.cn)("p-1.5 rounded-lg transition-colors",r?"bg-yellow-500/20 text-yellow-400":"bg-white/5 text-gray-400 hover:bg-white/10"),title:r?"Resume":"Pause",children:r?a.jsx(G.Z,{size:14}):a.jsx(O,{size:14})}),a.jsx("button",{onClick:()=>y(!p),className:(0,v.cn)("p-1.5 rounded-lg transition-colors",p?"bg-accent-gold/20 text-accent-gold":"bg-white/5 text-gray-400 hover:bg-white/10"),title:"Settings",children:a.jsx(g.Z,{size:14})}),a.jsx("button",{onClick:o,className:"p-1.5 rounded-lg bg-white/5 text-gray-400 hover:bg-red-500/20 hover:text-red-400 transition-colors",title:"Clear Chat",children:a.jsx(_,{size:14})})]})]}),a.jsx(w.M,{children:p&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 mb-3 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-2",children:[b?a.jsx($,{size:14}):a.jsx(W,{size:14}),"Text-to-Speech"]}),a.jsx("button",{onClick:()=>j(!b),className:(0,v.cn)("w-10 h-5 rounded-full transition-colors relative",b?"bg-accent-gold":"bg-gray-600"),title:b?"Disable TTS":"Enable TTS","aria-label":b?"Disable TTS":"Enable TTS",children:a.jsx("div",{className:(0,v.cn)("absolute top-0.5 w-4 h-4 rounded-full bg-white transition-all",b?"left-5":"left-0.5")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-2",children:[a.jsx(X,{size:14}),"Highlight Donations"]}),a.jsx("button",{onClick:()=>k(!f),className:(0,v.cn)("w-10 h-5 rounded-full transition-colors relative",f?"bg-accent-gold":"bg-gray-600"),title:f?"Hide Donation Highlights":"Show Donation Highlights","aria-label":f?"Hide Donation Highlights":"Show Donation Highlights",children:a.jsx("div",{className:(0,v.cn)("absolute top-0.5 w-4 h-4 rounded-full bg-white transition-all",f?"left-5":"left-0.5")})})]})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(J,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Search messages...",className:"input-field pl-9 text-xs py-2"})]}),(0,a.jsxs)("select",{value:d,onChange:e=>x(e.target.value),className:"input-field text-xs py-2 w-24",title:"Filter by platform",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"youtube",children:"YouTube"}),a.jsx("option",{value:"twitch",children:"Twitch"}),a.jsx("option",{value:"facebook",children:"Facebook"})]})]})]}),a.jsx("div",{ref:z,className:"flex-1 overflow-y-auto p-3 space-y-2",children:0===Z.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(u.Z,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No messages yet"})]}):a.jsx(w.M,{initial:!1,children:Z.map(e=>a.jsx(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-10},className:(0,v.cn)("group p-2.5 rounded-xl transition-colors",e.highlighted?"bg-accent-gold/10 border border-accent-gold/30":e.donation&&f?"bg-accent-burgundy/10 border border-accent-burgundy/30":"bg-white/5 hover:bg-white/8"),children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-accent-burgundy to-accent-gold flex items-center justify-center flex-shrink-0",children:e.userAvatar?a.jsx("img",{src:e.userAvatar,alt:"",className:"w-full h-full rounded-full object-cover"}):a.jsx("span",{className:"text-xs font-bold text-white",children:e.username.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[S(e.platform),a.jsx("span",{className:(0,v.cn)("text-xs font-semibold truncate","AI_DIRECTOR"===e.username?"text-accent-gold":"text-white"),children:"AI_DIRECTOR"===e.username?"Director":e.username}),"AI_DIRECTOR"===e.username&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-accent-gold/20 text-accent-gold border border-accent-gold/30",children:"SYSTEM"}),e.badges?.map(e=>a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-accent-burgundy/20 text-accent-gold",children:e},e)),e.donation&&(0,a.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-accent-gold/20 text-accent-gold flex items-center gap-0.5",children:[a.jsx(X,{size:10}),e.donation.currency,e.donation.amount]})]}),a.jsx("p",{className:"text-sm text-gray-200 break-words",children:e.message}),a.jsx("span",{className:"text-[10px] text-gray-500 mt-1 block",children:(0,v.BK)(e.timestamp)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>M(e.id),className:"p-1 rounded text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/20",title:"Highlight",children:a.jsx(Q,{size:12})}),a.jsx("button",{onClick:()=>T(e),className:"p-1 rounded text-gray-400 hover:text-accent-gold hover:bg-accent-gold/20",title:"AI Response",children:a.jsx(C.Z,{size:12})}),a.jsx("button",{onClick:()=>A(e.username),className:"p-1 rounded text-gray-400 hover:text-red-400 hover:bg-red-400/20",title:"Ban User",children:a.jsx(Y,{size:12})})]})]})},e.id))})}),r&&a.jsx("div",{className:"px-4 py-2 bg-yellow-500/20 border-t border-yellow-500/30 text-center",children:(0,a.jsxs)("span",{className:"text-xs text-yellow-400 flex items-center justify-center gap-1",children:[a.jsx(O,{size:12}),"Chat paused - Scroll to see new messages"]})})]})}var ee=s(82516);function et({className:e}){let{stream:t,isStreaming:s,streamDuration:i,toggleSidebar:r,sidebarOpen:y}=(0,N.D)();return(0,a.jsxs)("header",{className:(0,v.cn)("h-16 glass border-b border-white/10 flex items-center justify-between px-6",e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:y?a.jsx(n,{size:20}):a.jsx(c.Z,{size:20})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-burgundy to-accent-gold flex items-center justify-center",children:a.jsx(o,{size:20})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-bold text-lg leading-tight",children:t?.title||"AI Avatar Studio"}),a.jsx("p",{className:"text-xs text-gray-400",children:s?"Broadcasting Live":"Offline"})]})]})]}),a.jsx("div",{className:"flex items-center gap-6",children:s&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-4",children:[a.jsx("div",{className:"live-indicator px-4 py-2 rounded-full bg-red-500/20 text-red-400 font-semibold text-sm",children:"LIVE"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx(d,{size:16}),a.jsx("span",{className:"font-mono",children:(0,v.LU)(i)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx(x,{size:16}),a.jsx("span",{children:(0,v.uf)(t?.viewerCount||0)})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(es,{icon:a.jsx(h.Z,{size:18}),active:!0}),a.jsx(es,{icon:a.jsx(m.Z,{size:18}),active:!0}),a.jsx(es,{icon:a.jsx(u.Z,{size:18})}),a.jsx(es,{icon:a.jsx(p.Z,{size:18})}),a.jsx("div",{className:"w-px h-8 bg-white/10 mx-2"}),a.jsx(f.default,{href:"/settings",className:"p-2.5 rounded-xl hover:bg-white/10 transition-colors",title:"Global Settings","aria-label":"Global Settings",children:a.jsx(g.Z,{size:20,className:"text-gray-400"})}),a.jsx(f.default,{href:"/profile",className:"ml-2 w-10 h-10 rounded-full bg-surface-300 border border-white/10 flex items-center justify-center overflow-hidden hover:border-accent-gold transition-all",title:"User Profile","aria-label":"User Profile",children:a.jsx("img",{src:"https://i.pravatar.cc/150?u=studio",alt:"Profile",className:"w-full h-full object-cover"})})]})]})}function es({icon:e,active:t=!1}){return a.jsx("button",{className:(0,v.cn)("p-2.5 rounded-xl transition-all duration-200",t?"bg-accent-gold/20 text-accent-gold":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"),children:e})}function ea({className:e}){let{sidebarOpen:t,activePanel:s,setActivePanel:i,scenes:r,activeScene:n,chatMessages:c,guests:o,stream:d}=(0,N.D)();if(!t)return null;let x=[{id:"scenes",icon:a.jsx(y,{size:20}),label:"Scenes",count:r.length},{id:"layout",icon:a.jsx(b,{size:20}),label:"Layout",count:n?.sources.length||0},{id:"chat",icon:a.jsx(u.Z,{size:20}),label:"Chat",count:c.length},{id:"guests",icon:a.jsx(j.Z,{size:20}),label:"Guests",count:o.length},{id:"settings",icon:a.jsx(g.Z,{size:20}),label:"Settings"}],h=d?.id||"";return(0,a.jsxs)(l.E.aside,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:(0,v.cn)("h-full glass-dark border-r border-white/10 flex flex-col",e),children:[a.jsx("div",{className:"flex border-b border-white/10",children:x.map(e=>(0,a.jsxs)("button",{onClick:()=>i(e.id),className:(0,v.cn)("flex-1 py-3 px-2 flex flex-col items-center gap-1 transition-all duration-200 relative",s===e.id?"text-accent-gold":"text-gray-400 hover:text-white"),title:e.label,children:[e.icon,a.jsx("span",{className:"text-[10px] font-medium",children:e.label}),void 0!==e.count&&e.count>0&&a.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 rounded-full bg-accent-burgundy text-[10px] flex items-center justify-center text-white",children:e.count>99?"99+":e.count}),s===e.id&&a.jsx(l.E.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent-gold"})]},e.id))}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:["scenes"===s&&a.jsx(F,{}),"layout"===s&&a.jsx(R,{}),"chat"===s&&a.jsx(K,{streamId:h}),"guests"===s&&a.jsx(ee.F5,{streamId:h}),"settings"===s&&a.jsx(ei,{})]})]})}function ei(){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[a.jsx(g.Z,{size:20,className:"text-accent-gold"}),"Stream Settings"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1.5 font-medium",children:"Stream Title"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"Enter stream title...",defaultValue:"AI Avatar Livestream Studio"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1.5 font-medium",children:"Description"}),a.jsx("textarea",{className:"input-field min-h-[100px] resize-none",placeholder:"Enter description..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1.5 font-medium",children:"Stream Quality"}),(0,a.jsxs)("select",{className:"input-field",title:"Stream Quality",children:[a.jsx("option",{children:"1080p 60fps (Recommended)"}),a.jsx("option",{children:"1080p 30fps"}),a.jsx("option",{children:"720p 60fps"}),a.jsx("option",{children:"720p 30fps"}),a.jsx("option",{children:"480p 30fps (Low Latency)"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1.5 font-medium",children:"Latency Mode"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{className:"px-3 py-2 rounded-lg bg-accent-gold/20 border border-accent-gold/50 text-accent-gold text-xs font-semibold",children:"Ultra Low"}),a.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/5 text-gray-400 text-xs font-semibold hover:bg-white/10 transition-colors",children:"Standard"})]})]}),a.jsx("div",{className:"pt-4 border-t border-white/10",children:a.jsx("button",{className:"w-full py-3 rounded-xl bg-accent-burgundy text-white font-bold hover:bg-accent-burgundy/80 transition-all shadow-neon-burgundy",children:"Save Changes"})})]})]})}var el=s(92717),er=s(70715);let en=(0,r.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var ec=s(93517);let eo={fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},slide:{initial:{x:"100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:20,stiffness:100}},zoom:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.4}},cut:{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:0}}};function ed({className:e}){let{activeScene:t,isStreaming:s,streamDuration:r,updateStreamDuration:n,activeAvatar:c,stream:o}=(0,N.D)(),[d,x]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),u=eo[t?.transitionType||"fade"]||eo.fade;return a.jsx("div",{className:(0,v.cn)("relative rounded-2xl overflow-hidden",e),children:(0,a.jsxs)("div",{className:"aspect-video bg-surface-400 relative",children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx(w.M,{mode:"wait",children:t?a.jsx(l.E.div,{...u,className:"w-full h-full bg-surface-500 flex items-center justify-center overflow-hidden",children:c?a.jsx(ec.F,{avatarId:c.id,streamId:o?.id||"demo-stream",className:"w-full h-full"}):(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full bg-gradient-to-br from-accent-burgundy/30 to-accent-gold/30 flex items-center justify-center backdrop-blur-xl",children:a.jsx(C.Z,{size:48,className:"text-accent-gold"})}),a.jsx("h3",{className:"text-xl font-semibold mb-1",children:t.name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[t.sources.length," sources configured"]})]})},t.id):(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center h-full text-gray-500",children:[a.jsx(el.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg",children:"No scene selected"}),a.jsx("p",{className:"text-sm",children:"Select a scene to preview"})]},"no-scene")})}),a.jsx(w.M,{children:s&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-4 left-4 flex items-center gap-3",children:[a.jsx("div",{className:"live-indicator px-3 py-1.5 rounded-lg bg-red-500/90 text-white font-bold text-sm backdrop-blur-sm",children:"LIVE"}),a.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-black/50 text-white font-mono text-sm backdrop-blur-sm",children:(0,v.LU)(r)})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:()=>m(!h),className:"p-2 rounded-lg bg-black/40 hover:bg-black/60 transition-colors",children:h?a.jsx(W,{size:18}):a.jsx($,{size:18})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(!d),className:"p-2 rounded-lg bg-black/40 hover:bg-black/60 transition-colors",title:"Toggle Fullscreen","aria-label":"Toggle Fullscreen",children:a.jsx(er.Z,{size:18})}),a.jsx("button",{className:"p-2 rounded-lg bg-black/40 hover:bg-black/60 transition-colors",title:"Settings","aria-label":"Settings",children:a.jsx(g.Z,{size:18})})]})]})})]})})}function ex({className:e}){let{isStreaming:t,startStream:s,stopStream:r,stream:n}=(0,N.D)(),[c,o]=(0,i.useState)(!1),d=async()=>{t?r():(o(!0),await new Promise(e=>setTimeout(e,1500)),s(),o(!1))};return(0,a.jsxs)("div",{className:(0,v.cn)("flex items-center justify-center gap-4 py-4",e),children:[(0,a.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:c,className:(0,v.cn)("relative px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3",t?"bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30":"bg-gradient-to-r from-accent-burgundy to-accent-gold text-white shadow-neon-burgundy hover:shadow-neon-gold",c&&"opacity-70 cursor-wait"),children:[a.jsx(w.M,{mode:"wait",children:c?a.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"},"loading"):t?a.jsx(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:a.jsx(en,{size:24,fill:"currentColor"})},"stop"):a.jsx(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:a.jsx(el.Z,{size:24})},"start")}),a.jsx("span",{children:c?"Connecting...":t?"End Stream":"Go Live"})]}),n&&n.platforms.length>0&&a.jsx("div",{className:"flex items-center gap-2",children:n.platforms.map(e=>(0,a.jsxs)("div",{className:(0,v.cn)("px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2","streaming"===e.status?"bg-green-500/20 text-green-400":"connected"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"),children:[a.jsx("span",{className:(0,v.cn)("w-2 h-2 rounded-full","streaming"===e.status?"bg-green-400 animate-pulse":"bg-gray-400")}),a.jsx("span",{className:"capitalize",children:e.name})]},e.id))})]})}let eh=(0,r.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),em=(0,r.Z)("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),eu=(0,r.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var ep=s(32933),eg=s(75290),ey=s(85999),eb=s(18069);function ej({streamId:e,className:t}){let[s,r]=(0,i.useState)("speak"),{aiDirectorEnabled:n,setAiDirectorEnabled:c}=(0,N.D)(),[o,d]=(0,i.useState)(""),[x,m]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),[y,b]=(0,i.useState)([]),[j,f]=(0,i.useState)(null),[k,z]=(0,i.useState)(!1),[S,Z]=(0,i.useState)([]),[M,A]=(0,i.useState)(null),[T,L]=(0,i.useState)(!1),[E,I]=(0,i.useState)("elevenlabs"),[P,q]=(0,i.useState)(""),[_,D]=(0,i.useState)("professional"),[V,R]=(0,i.useState)(""),[F,U]=(0,i.useState)(""),[H,B]=(0,i.useState)(""),G=(0,N.D)(e=>e.avatarSessionId);async function O(){if(o.trim()&&j){g(!0);try{let{data:t}=await eb.b1.speak({sessionId:G||"demo-session",streamId:e||"demo-stream",text:o,voiceId:M?.voice_id,useElevenLabs:"elevenlabs"===E});t?.duration?setTimeout(()=>{g(!1),d("")},t.duration):g(!1)}catch(e){g(!1)}}}async function W(){if(P.trim()){m(!0);try{let{data:e}=await eb.no.generateScript(P,_,60);e?.script&&R(e.script)}catch(e){console.error("Failed to generate script:",e)}finally{m(!1)}}}async function X(){if(F.trim()){m(!0);try{let{data:e}=await eb.no.getChatResponse(F,"AI Avatar Livestream Demo",[]);e?.response&&B(e.response)}catch(e){console.error("Failed to get response:",e)}finally{m(!1)}}}return(0,a.jsxs)("div",{className:(0,v.cn)("glass rounded-2xl overflow-hidden",t),children:[a.jsx("div",{className:"p-4 border-b border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-burgundy/30 to-accent-gold/30 flex items-center justify-center",children:a.jsx(eh,{size:20,className:"text-accent-gold"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:"AI Control Center"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Avatar speech, scripts, & chat responses"})]})]})}),a.jsx("div",{className:"flex border-b border-white/10",children:[{id:"speak",icon:a.jsx(h.Z,{size:16}),label:"Speak"},{id:"script",icon:a.jsx(em,{size:16}),label:"Script"},{id:"respond",icon:a.jsx(u.Z,{size:16}),label:"Respond"},{id:"director",icon:a.jsx(C.Z,{size:16}),label:"Director"}].map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.id),className:(0,v.cn)("flex-1 py-3 px-4 flex items-center justify-center gap-2 transition-all duration-200",s===e.id?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"),children:[e.icon,a.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:e.label})]},e.id))}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:["speak"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Avatar"}),(0,a.jsxs)("button",{onClick:()=>z(!k),className:"w-full px-3 py-2.5 rounded-xl bg-surface-300 border border-white/10 text-left flex items-center justify-between",children:[a.jsx("span",{className:"text-sm truncate",children:j?.avatar_name||"Select Avatar"}),a.jsx(eu,{size:16,className:"text-gray-400"})]}),a.jsx(w.M,{children:k&&a.jsx(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 bg-surface-200 border border-white/10 rounded-xl overflow-hidden z-50",children:y.map(e=>(0,a.jsxs)("button",{onClick:()=>{f(e),z(!1)},className:(0,v.cn)("w-full px-3 py-2 text-left text-sm flex items-center justify-between hover:bg-white/10",j?.avatar_id===e.avatar_id&&"bg-white/5"),children:[a.jsx("span",{children:e.avatar_name}),j?.avatar_id===e.avatar_id&&a.jsx(ep.Z,{size:14,className:"text-accent-gold"})]},e.avatar_id))})})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Voice"}),(0,a.jsxs)("button",{onClick:()=>L(!T),className:"w-full px-3 py-2.5 rounded-xl bg-surface-300 border border-white/10 text-left flex items-center justify-between",children:[a.jsx("span",{className:"text-sm truncate",children:M?.name||"Select Voice"}),a.jsx(eu,{size:16,className:"text-gray-400"})]}),a.jsx(w.M,{children:T&&a.jsx(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 bg-surface-200 border border-white/10 rounded-xl overflow-hidden z-50 max-h-48 overflow-y-auto",children:S.map(e=>(0,a.jsxs)("button",{onClick:()=>{A(e),L(!1)},className:(0,v.cn)("w-full px-3 py-2 text-left text-sm flex items-center justify-between hover:bg-white/10",M?.voice_id===e.voice_id&&"bg-white/5"),children:[(0,a.jsxs)("div",{children:[a.jsx("span",{children:e.name}),a.jsx("span",{className:"text-xs text-gray-400 ml-2",children:e.gender})]}),M?.voice_id===e.voice_id&&a.jsx(ep.Z,{size:14,className:"text-accent-gold"})]},e.voice_id))})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Provider:"}),(0,a.jsxs)("div",{className:"flex rounded-lg bg-surface-400 p-0.5",children:[a.jsx("button",{onClick:()=>I("elevenlabs"),className:(0,v.cn)("px-3 py-1 text-xs rounded-md transition-colors","elevenlabs"===E?"bg-accent-burgundy text-white":"text-gray-400 hover:text-white"),children:"ElevenLabs"}),a.jsx("button",{onClick:()=>I("heygen"),className:(0,v.cn)("px-3 py-1 text-xs rounded-md transition-colors","heygen"===E?"bg-accent-gold text-white":"text-gray-400 hover:text-white"),children:"HeyGen"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Text to Speak"}),a.jsx("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Enter text for the avatar to speak...",className:"input-field min-h-[100px] resize-none",disabled:p})]}),a.jsx("button",{onClick:O,disabled:!o.trim()||!j||p,className:(0,v.cn)("w-full py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2",o.trim()&&j&&!p?"bg-gradient-to-r from-accent-burgundy to-accent-gold text-white hover:shadow-neon-gold":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:p?(0,a.jsxs)(a.Fragment,{children:[a.jsx(eg.Z,{size:18,className:"animate-spin"}),"Speaking..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx($,{size:18}),"Speak Now"]})})]}),"script"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Topic"}),a.jsx("input",{type:"text",value:P,onChange:e=>q(e.target.value),placeholder:"What should the avatar talk about?",className:"input-field"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Style"}),(0,a.jsxs)("select",{value:_,onChange:e=>D(e.target.value),className:"input-field",title:"Script Style",children:[a.jsx("option",{value:"professional",children:"Professional"}),a.jsx("option",{value:"casual",children:"Casual & Friendly"}),a.jsx("option",{value:"educational",children:"Educational"}),a.jsx("option",{value:"entertaining",children:"Entertaining"}),a.jsx("option",{value:"inspiring",children:"Inspiring"})]})]}),a.jsx("button",{onClick:W,disabled:!P.trim()||x,className:(0,v.cn)("w-full py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2",P.trim()&&!x?"bg-accent-burgundy text-white hover:bg-accent-burgundy/80":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:x?(0,a.jsxs)(a.Fragment,{children:[a.jsx(eg.Z,{size:18,className:"animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(em,{size:18}),"Generate Script"]})}),V&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Generated Script"}),a.jsx("div",{className:"p-4 rounded-xl bg-surface-400 text-sm whitespace-pre-wrap",children:V}),a.jsx("button",{onClick:function(){d(V),r("speak")},className:"mt-2 w-full py-2 rounded-lg bg-white/10 text-sm hover:bg-white/20 transition-colors",children:"Use This Script"})]})]}),"respond"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"Viewer Question"}),a.jsx("input",{type:"text",value:F,onChange:e=>U(e.target.value),placeholder:"Enter a viewer's question...",className:"input-field"})]}),a.jsx("button",{onClick:X,disabled:!F.trim()||x,className:(0,v.cn)("w-full py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2",F.trim()&&!x?"bg-accent-gold text-white hover:bg-accent-gold/80":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:x?(0,a.jsxs)(a.Fragment,{children:[a.jsx(eg.Z,{size:18,className:"animate-spin"}),"Thinking..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(eh,{size:18}),"Generate Response"]})}),H&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1.5",children:"AI Response"}),a.jsx("div",{className:"p-4 rounded-xl bg-surface-400 text-sm",children:H}),a.jsx("button",{onClick:function(){d(H),r("speak")},className:"mt-2 w-full py-2 rounded-lg bg-white/10 text-sm hover:bg-white/20 transition-colors",children:"Speak This Response"})]})]}),"director"===s&&(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-surface-400 border border-white/5",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("h4",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(C.Z,{size:16,className:"text-accent-gold"}),"Auto-Director Mode"]}),a.jsx("p",{className:"text-xs text-gray-400 max-w-[200px]",children:"AI will automatically switch scenes based on chat engagement and stream context."})]}),a.jsx("button",{onClick:async()=>{let t=!n;if(c(t),e)try{await fetch(`${process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001"}/api/streams/${e}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({aiDirectorEnabled:t})})}catch(e){console.error("Failed to sync director state:",e)}},title:n?"Disable AI Director":"Enable AI Director",className:(0,v.cn)("relative w-12 h-6 rounded-full transition-colors duration-300",n?"bg-accent-gold":"bg-gray-700"),children:a.jsx(l.E.div,{animate:{x:n?26:4},className:"absolute top-1 w-4 h-4 rounded-full bg-white shadow-sm"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"How it works"}),a.jsx("div",{className:"grid gap-3",children:[{title:"Engagement Analysis",desc:"Monitors chat velocity and sentiment."},{title:"Contextual Switching",desc:"Detects topics and switches to relevant layouts."},{title:"Smart Cooldown",desc:"Prevents rapid switches for a professional feel."}].map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 rounded-xl bg-white/5",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-accent-gold/10 flex items-center justify-center text-accent-gold text-xs font-bold",children:t+1}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-200",children:e.title}),a.jsx("p",{className:"text-xs text-gray-500",children:e.desc})]})]},t))})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Simulate Lab"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:async()=>{try{await fetch(`${process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001"}/api/test/director/event`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"donation",data:{amount:100,user:"BigSpender"},streamId:e})}),ey.A.success("Simulation: $100 Donation Event Sent")}catch(e){ey.A.error("Simulation failed")}},className:"px-3 py-2 rounded-lg bg-green-500/10 border border-green-500/20 text-green-400 text-xs font-bold hover:bg-green-500/20 transition-all",children:"Simulate $100 Tip"}),a.jsx("button",{onClick:async()=>{try{await fetch(`${process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001"}/api/test/director/event`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"chat",data:{message:"Show us the code!"},streamId:e})}),ey.A.success("Simulation: Contextual Chat Sent")}catch(e){ey.A.error("Simulation failed")}},className:"px-3 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-bold hover:bg-blue-500/20 transition-all",children:"Force Scene Analysis"})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-accent-burgundy/10 border border-accent-burgundy/20 text-xs text-accent-burgundy",children:[a.jsx("strong",{children:"Note:"})," Auto-Director requires an active stream to function correctly."]})]})]})]})}var ef=s(44069),ev=s(77109),eN=s(35047);let ew=(0,r.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var ek=s(67427),ez=s(76993);let eS=(0,r.Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);var eC=s(76464);let eZ=(0,r.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eM=(0,r.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function eA({streamId:e,className:t}){let{analytics:s,setAnalytics:r,stream:n,isStreaming:c,streamDuration:o,aiInsights:h,directorLogs:m}=(0,N.D)(),[g,y]=(0,i.useState)(!1),[b,f]=(0,i.useState)(0),w=(0,i.useCallback)(async()=>{if(e)try{y(!0);let t=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/analytics/${e}`),a=await t.json();f(s?.totalViewers||0),r({totalViewers:a.totalViewers||0,peakViewers:a.peakViewers||0,averageWatchTime:a.averageWatchTime||0,chatMessages:a.chatMessages||0,reactions:a.reactions||0,shares:a.shares||0,newFollowers:a.newFollowers||0,platformBreakdown:a.platformBreakdown||[],viewerTimeline:a.viewerTimeline||[]})}catch(e){console.error("Failed to fetch analytics:",e)}finally{y(!1)}},[e,r,s?.totalViewers]),k=(s?.totalViewers||0)-b,z=b>0?(k/b*100).toFixed(1):"0",S=e=>{switch(e.toLowerCase()){case"youtube":return a.jsx(U,{size:16,className:"text-red-500"});case"twitch":return a.jsx(H,{size:16,className:"text-purple-500"});case"facebook":return a.jsx(B,{size:16,className:"text-blue-500"});default:return a.jsx(G.Z,{size:16,className:"text-gray-400"})}},Z=[{label:"Live Viewers",value:n?.viewerCount||s?.totalViewers||0,icon:a.jsx(j.Z,{size:18}),color:"gold",trend:0!==k?{value:`${k>0?"+":""}${z}%`,positive:k>0}:null},{label:"Peak Viewers",value:s?.peakViewers||0,icon:a.jsx(ew,{size:18}),color:"burgundy"},{label:"Chat Messages",value:s?.chatMessages||0,icon:a.jsx(u.Z,{size:18}),color:"gold"},{label:"Reactions",value:s?.reactions||0,icon:a.jsx(ek.Z,{size:18}),color:"burgundy"},{label:"Shares",value:s?.shares||0,icon:a.jsx(ez.Z,{size:18}),color:"green"},{label:"New Followers",value:s?.newFollowers||0,icon:a.jsx(p.Z,{size:18}),color:"blue"},{label:"AI Latency",value:"42ms",icon:a.jsx(eS,{size:18}),color:"green"}];return(0,a.jsxs)("div",{className:(0,v.cn)("glass rounded-2xl p-5",t),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(eC.Z,{size:20,className:"text-accent-gold"}),"Live Analytics"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[c&&(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-red-500/20",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("span",{className:"text-xs font-medium text-red-400",children:(0,v.LU)(o)})]}),a.jsx("button",{onClick:w,disabled:g,className:(0,v.cn)("p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",g&&"animate-spin"),title:"Refresh Analytics",children:a.jsx(eZ,{size:14})})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-7 gap-3 mb-5",children:Z.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"p-3 rounded-xl bg-white/5 hover:bg-white/8 transition-colors",children:[a.jsx("div",{className:(0,v.cn)("w-8 h-8 rounded-lg mb-2 flex items-center justify-center","gold"===e.color&&"bg-accent-gold/20 text-accent-gold","burgundy"===e.color&&"bg-accent-burgundy/20 text-accent-burgundy","green"===e.color&&"bg-green-500/20 text-green-400","blue"===e.color&&"bg-blue-500/20 text-blue-400"),children:e.icon}),(0,a.jsxs)("div",{className:"flex items-end gap-1.5",children:[a.jsx("span",{className:"text-xl font-bold",children:"number"==typeof e.value?(0,v.uf)(e.value):e.value}),e.trend&&(0,a.jsxs)("span",{className:(0,v.cn)("text-xs flex items-center gap-0.5 mb-0.5",e.trend.positive?"text-green-400":"text-red-400"),children:[e.trend.positive?a.jsx(ew,{size:10}):a.jsx(eM,{size:10}),e.trend.value]})]}),a.jsx("span",{className:"text-[10px] text-gray-500",children:e.label})]},e.label))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[a.jsx(x,{size:14}),"Platform Breakdown"]}),s?.platformBreakdown&&s.platformBreakdown.length>0?a.jsx("div",{className:"space-y-3",children:s.platformBreakdown.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[S(e.platform),a.jsx("span",{className:"text-sm text-gray-400 w-16 capitalize",children:e.platform}),a.jsx("div",{className:"flex-1 h-2 bg-white/10 rounded-full overflow-hidden",children:a.jsx(l.E.div,{initial:{width:0},animate:{width:`${e.percentage}%`},transition:{duration:.8,ease:"easeOut"},className:(0,v.cn)("h-full rounded-full","youtube"===e.platform&&"bg-red-500","twitch"===e.platform&&"bg-purple-500","facebook"===e.platform&&"bg-blue-500",!["youtube","twitch","facebook"].includes(e.platform)&&"bg-gray-500")})}),a.jsx("span",{className:"text-sm font-medium w-12 text-right",children:(0,v.uf)(e.viewers)})]},e.platform))}):a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No platform data yet"})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[a.jsx(d,{size:14}),"Stream Metrics"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Avg. Watch Time"}),a.jsx("span",{className:"text-sm font-medium",children:s?.averageWatchTime?(0,v.LU)(s.averageWatchTime):"--:--"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Stream Duration"}),a.jsx("span",{className:"text-sm font-medium",children:(0,v.LU)(o)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Engagement Rate"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[s&&s.totalViewers>0?((s.chatMessages+s.reactions)/s.totalViewers*100).toFixed(1):"0","%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Chat Rate"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[o>0?Math.round((s?.chatMessages||0)/(o/60)):0,"/min"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-accent-gold/5 border border-accent-gold/10",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-accent-gold mb-3 flex items-center gap-2",children:[a.jsx(C.Z,{size:14}),"AI Stream Insights"]}),a.jsx("div",{className:"text-sm text-gray-300 leading-relaxed italic",children:h||a.jsx("span",{className:"text-gray-500",children:"AI is currently analyzing your stream data. Insights will appear here every 2 minutes."})})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[a.jsx(eS,{size:14}),"Director Automation Log"]}),a.jsx("div",{className:"space-y-2 max-h-[120px] overflow-y-auto custom-scrollbar pr-2",children:m.length>0?m.map(e=>(0,a.jsxs)("div",{className:"text-[11px] flex gap-2",children:[a.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,a.jsxs)("span",{className:(0,v.cn)("font-medium","success"===e.type&&"text-green-400","warning"===e.type&&"text-amber-400","info"===e.type&&"text-blue-400"),children:["[",e.type.toUpperCase(),"]"]}),a.jsx("span",{className:"text-gray-400",children:e.message})]},e.id)):a.jsx("div",{className:"text-center py-4 text-gray-500 text-xs italic",children:"No automation events logged yet."})})]})]})]})]})}function eT(){let{aiDirectorEnabled:e,activeScene:t,scenes:s,setActiveScene:a,chatMessages:l,isStreaming:r,addDirectorLog:n,setDirectorLogs:c,setAiInsights:o,analytics:d,stream:x}=(0,N.D)(),h=x?.id,{switchScene:m}=(0,ef.s)(h);return(0,i.useRef)(0),null}function eL(){let{data:e,status:t}=(0,ev.useSession)();(0,eN.useRouter)();let[s,r]=(0,i.useState)(""),{setScenes:n,setActiveScene:c,setStream:o,setAvatars:d,setActiveAvatar:x,setAnalytics:h,setAiDirectorEnabled:m,setAiInsights:u,stream:p,isStreaming:g}=(0,N.D)(),{socket:y}=(0,ef.s)(s||void 0);return"loading"===t?a.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-surface-500",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-accent-gold border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-400 font-medium",children:"Loading Studio..."})]})}):e?(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-surface-500 overflow-hidden",children:[a.jsx(et,{}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(ea,{}),a.jsx("main",{className:"flex-1 flex flex-col overflow-y-auto custom-scrollbar",children:(0,a.jsxs)("div",{className:"p-4 lg:p-6 space-y-4 lg:space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 lg:gap-6",children:[(0,a.jsxs)("div",{className:"xl:col-span-2 space-y-4",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"aspect-video glass rounded-2xl overflow-hidden relative",children:[a.jsx(ed,{className:"h-full w-full"}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4 pointer-events-none",children:a.jsx(ee.iu,{streamId:s,className:"max-w-[400px] pointer-events-auto"})})]}),a.jsx(ex,{})]}),a.jsx(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"h-full",children:a.jsx(ej,{streamId:s})})]}),a.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsx(eA,{streamId:s})})]})})]}),a.jsx(eT,{})]}):null}},53183:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\Owner\New folder\333333\src\app\studio\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,618,453,859,617,768],()=>s(64936));module.exports=a})();